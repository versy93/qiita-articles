---
title: GraphQLを極小理解したのでまとめる
tags:
  - GraphQL
private: false
updated_at: '2022-11-03T12:50:36+09:00'
id: 5e649b14f19bef816aed
organization_url_name: null
slide: false
ignorePublish: false
---
# 背景
「GraphQLとか使えば実現できそうですよね〜」
「そ、そ、そ、そうっすよね〜;;;」

な状態を脱却することだけを目標において、要点だけをざっと見したので
理解したことを記録に残したかった

# この記事を読むべき人
「そ、そ、そ、そうっすよね〜;;;」ってなったことがある人。

# この記事を読まないべき人
GraphQLをすでに使ったことがある人

# 本題、GraphQLについて

## 簡単にいうとなんなの？
RESTだと至らないAPI仕様を補うための規格。
APIを呼び出す時にエンドポイント任せだった返却値とかを、クライアント側でクエリを組み立てて取得したいデータを選んだりできる。

APIのインタフェースを **RDBのSQLの概念に近づけた感じ** の世界

```
query {
  person(personID:5){
    name
    birthday
    address
    created
  }
}
```
こんな感じで取得するデータを選んだりできる

## RESTの最高じゃん、何が悪いの？
・レスポンスの中に余計なデータが含まれてたりする
・逆に1回のリクエストだとデータが取得しきれず、もう一回リクエストしたり

そんなん別にいーじゃんって？
ネットワークの通信容量とかその辺に厳しく生きてる高尚なエンジニアが世の中にはいらっしゃるのだ。

ちなみに企業レベルで公開APIをGraphQLにしてるとこもある。

## 一応GraphQLクライアントなるものもある
React対応のApolloとかRelayとか

## どの辺がグラフなの？
「グラフ理論」ってのを調べてから出直してくるのがよし。
別に調べなくてもよし。

## サーバー側の処理はどうすんの？
ライブラリを使いながら、クエリで要求されたデータを取得、返却できるように作り込んでいく

https://graphql.org/code/

# まとめ

今回ざっとみしたのはこの本。
![51gkl1qtM2L._SX379_BO1,204,203,200_.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2373655/68fdbecc-e819-55df-d92a-7493931e8e17.jpeg)
https://www.amazon.co.jp/Learning-GraphQL-Declarative-Fetching-Modern/dp/1492030716

ざっくりいうと、今まで提供されているエンドポイント任せで
クライアント側はそれを呼び出す以外なかった世界をちょっと変えたもの、それがGraphQLっていう印象。

フロントエンドのようなAPIクライアントが
DBにクエリを投げるような気持ちでAPIを使えるように定めていった仕様だったり、そのための道具たちをGraphQLと読んでいる？みたいな感じ。

RDBの世界にはデータのテーブル定義が必要で、それと同じようにGraphQLではスキーマ定義をする。
RDBの世界にはSQLというCRUD操作を可能にする命令がが必要で、それと同じようにGraphQLではミューテーションを使う。


**APIのエンドポイントをSQLのように** これが既存の知識を持って理解しにいった時に最もキャッチーな言い回しな気がしました。

このイメージを持った上で新たに書籍を読んで、この記事に書いてあるしょーもない薄っぺらい知識をアップデートしていただければ幸い。

